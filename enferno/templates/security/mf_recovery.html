{% extends "login-layout.html" %}
{% from "security/_macros.html" import render_field_with_errors, render_field %}
{% block navbar %}{% endblock %}
{% block content %}
    <v-main>

    <v-card style="width:min(90%,400px)" class="ma-auto pa-4">
        <v-toolbar title="{{ _('Recovery Code')}}"></v-toolbar>

    <v-card-text>{% include "security/_messages.html" %}</v-card-text>
        <form action="{{ url_for_security("mf_recovery") }}" method="POST"
              name="mf_recovery_form">
            <v-card-text>

                {{ mf_recovery_form.hidden_tag() }}
                <v-text-field name="code" label="{{ _('Recovery Code')}}"></v-text-field>

            </v-card-text>
            <v-card-actions class="justify-space-between">
                <v-btn variant="text" href="/login">{{ _('Back to Login')}}</v-btn>
                <v-btn type="submit" color="primary" variant="elevated"> {{ _('Submit') }} </v-btn>
            </v-card-actions>

            {% if mf_recovery_form.errors %}

                <v-card-text>
                    <v-alert type="error" dnese dismissible>{{ mf_recovery_form.errors.code[0] }}
                    </v-alert>


                </v-card-text>
            {% endif %}
        </form>
    </v-card>

</v-main>
{% endblock %}
