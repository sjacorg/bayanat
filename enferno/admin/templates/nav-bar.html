<v-app-bar color="primary">
  <template v-slot:prepend>
    <v-app-bar-nav-icon @click.stop="drawer = !drawer"></v-app-bar-nav-icon>
  </template>

  <v-toolbar-title class="ml-0 pl-2 flex-fill">
    <a href="/">
      <img src="/static/img/bayanat-h-w-v2.svg" class="mt-1" height="42" cover loading="lazy" />
    </a>
  </v-toolbar-title>
  <v-spacer></v-spacer>

  <template v-slot:append>  
    <v-tooltip location="bottom">
      <template v-slot:activator="{ props }">
        <v-btn id="menu-activator" v-bind="props" icon="mdi-translate"></v-btn>
      </template>
        {{ _('Interface Language') }}
    </v-tooltip>
  
    <v-menu activator="#menu-activator">
      <v-list color="primary">
        <v-list-subheader>{{ _('Translations')}}</v-list-subheader>
        <v-list-item
          v-for="(name, code) in languages"
          @click="updateLang(code)"
          :title="name"
          :value="code"
          :active="code === settings.language"
          density="compact"
        >
        </v-list-item>
      </v-list>
    </v-menu>
  
    <v-tooltip location="bottom">
        <template v-slot:activator="{ props }">
          <v-btn v-bind="props" icon @click="toggleNotificationsDrawer()">
            <v-badge
              color="error"
              :content="notifications.unreadCount"
              :model-value="hasUnreadNotifications"
              :max="9"
            >
              <v-icon>mdi-bell</v-icon>
            </v-badge>
          </v-btn>
        </template>
        {{ _('Notifications') }}
    </v-tooltip>

    <profile-dropdown name="{{ current_user.name }}" username="{{ current_user.username }}" email="{{ current_user.email }}"></profile-dropdown>
  
    <v-tooltip location="bottom">
      <template v-slot:activator="{ props }">
        <v-btn v-bind="props" icon="mdi-logout" href="/logout"></v-btn>
      </template>
      {{ _('Logout') }}
    </v-tooltip>
  </template>


</v-app-bar>
